const rawData = `
183 1283054327
86 1208669501
63 1220419542
210 1283162156
24 1277089850
128 1280875420
233 1282874128
301 1281791595
259 1288651676
263 1274452584
218 1283161913
699 1283031385
299 1281608276
193 1283085234
198 1282938505
133 1281350537
64 1223965471
240 1272976747
189 1283084292
264 1281791938
277 1272783287
44 1277015308
28 1277014283
75 1223975168
29 1277015329
302 1281650218
140 1277089854
31 1277014265
237 1287687858
148 1282637795
288 1281614964
137 1281736827
97 1208594733
260 1207165299
290 1281615018
129 1280852094
70 1223968961
236 1271792197
64 1220392465
15 1202362569
61 1223965883
242 1225448019
262 1228992757
230 1285898238
27 1277123813
76 1223981788
295 1281607127
275 1281616389
311 1277014273
116 1202362514
134 1280890493
297 1281785702
261 1272573767
45 1277014218
239 1281676986
124 1281202064
84 1208956556
7 1223963847
211 1282932351
21 1208669389
174 1228481859
197 1282932135
92 1281787950
106 1280979789
273 1281784292
243 1228485191
241 1275737837
257 1272917219
89 1281811329
250 1283085328
201 1282942692
118 1202497145
195 1283165256
296 1281784321
74 1223961801
171 1277092576
52 1223975813
181 1283059678
108 1202361285
203 1283032983
3 1282942590
245 1281232924
69 1220196212
205 1282942410
85 1210585894
227 1283165313
111 1280895075
253 1282986848
159 1282785898
913 1220421941
910 1208669372
144 1282553974
220 1283165405
66 1223967386
501 1282932302
122 1202196371
107 1281786805
20 1277089304
65 1223974412
113 1280892641
182 1283054351
127 1280895072
232 1276576747
32 1277015289
143 1282544963
71 1223980239
194 122042193
4 1208673952
67 1223978349
99 1277092579
196 1282932521
16 1288987860
283 1281603765
184 1282932195
312 1277123785
293 1281792505
265 1281784294
60 1223975389
25 1277089495
217 1282932371
223 1283032593
96 1281830404
280 1282896286
12 1277063836
110 1280867326
281 1274712417
147 1282499563
88 1208469289
91 1281854928
249 1272379757
121 1202517840
136 1202304927
270 1281789782
289 1281769552
109 1202195247
266 1281786587
132 1280897216
55 1220383627
246 1229960178
229 1284987828
30 1277063798
244 1282392829
274 1281650215
255 1282865268
228 1274759797
68 1223974531
149 1281741266
221 1283032583
268 1287838418
153 1282571251
103 1208672272
224 1282942598
213 1282938904
378 1283054310
6 1281736186
1 1065831263
2 1096211598
5 1060936547
8 1080394998
9 1022513753
10 1098197581
11 1093747887
13 1063758900
14 1040768033
17 1010713092
18 1015326553
19 1063758832
22 1095482769
23 1080328246
26 1080394977
33 1015624596
34 1099159452
35 1015680356
36 1027142638
37 1094811571
38 1090462182
39 1023382675
40 1067243804
41 1022609478
42 1061911638
43 1018723528
46 1080394989
47 1019875160
48 1029563179
49 1093836033
50 1080328245
51 1015851980
53 1001896369
54 1016954152
56 1093790810
57 1026802816
58 1022288751
252 1272574797
117 1280869076
94 1281857667
187 1283032623
141 1064852743
95 1015258324
200 1223145358
202 1211797848
204 1274628744
206 1286470366
207 1286476685
208 1211694907
212 1223142698
214 1223149620
215 1221989431
216 1223154430
219 1223147604
222 1223031467
225 1221981366
226 1223141905
231 1223145483
234 1211792984
235 1211743952
238 1211709286
247 1274511649
248 1211767496
251 1286566504
254 1211709813
256 1211693437
258 1211703683
267 1226391975
269 1286013665
271 1286471366
272 1223142906
278 1223074413
279 1211742380
282 1211749738
284 1211693656
285 1286371665
286 1211568578
287 1274605944
592 1211310617
593 1211387093
594 1211313784
595 1211386783
596 1211386045
597 1211386059
598 1211385392
599 1211365085
600 1211386893
601 1211386176
602 1211310670
603 1211385368
604 1211384902
605 1211284678
606 1211381934
607 1211383057
608 1211384018
609 1208729226
610 1211316074
611 1211394590
612 1211386398
613 1211393716
614 1211394301
615 1211394834
616 1211394626
617 1211315490
618 1211316581
619 1211315754
620 1211314369
621 1208724336
622 1208722687
623 1208731884
624 1208719969
625 1208723394
626 1208721198
627 1208732466
628 1208732283
629 1208732260
630 1211284575
631 1211386246
632 1208726331
633 1211287135
634 1211390526
635 1208726311
636 1211371759
637 1208726637
638 1211371926
639 1211286327
640 1211365048
641 1211393463
642 1211394595
643 1211389141
644 1211365346
645 1208721202
646 1211365908
647 1211287654
648 1211310835
649 1211365270
650 1208731611
651 1211367054
652 1211315298
653 1211285486
654 1211312540
655 1211316038
656 1211287380
657 1211307463
658 1208721812
659 1211307429
660 1211501736
661 1211386302
662 1211314059
663 1211395158
664 1211394678
665 1278636488
666 1278857897
667 1210415561
668 1278863525
669 1211390143
670 1278945944
671 1278295765
672 1278856926
673 1278859517
674 1279013221
675 1278859672
676 1278864134
677 1278948419
678 1279016515
679 1279048123
680 1278864159
681 1278306269
682 1279045162
683 1210423992
684 1278863247
685 1211656234
686 1278483772
687 1278945548
688 1211656901
689 1211390361
690 1278940744
691 1278948547
692 1278279038
693 1278576590
694 1278312029
695 1278636408
696 1278629762
697 1279049561
698 1278955961
700 1279049516
100 1279013423
101 1278306242
102 1278960517
104 1278637206
105 1278891602
112 1278864926
114 1278955458
115 1278961059
119 1289219818
120 1278957804
123 1278273103
125 1278576819
126 1278869487
130 1278580926
131 1211416098
135 1278562988
138 1278521622
139 1278563554
142 1278520291
145 1278566358
146 1278562249
150 1278562658
151 1278565451
152 1279053516
154 1279053482
155 1278521716
156 1278563394
157 1278562780
158 1279053245
160 1278525182
161 1278525535
162 1278565608
163 1278566231
164 1278523185
165 1278230993
166 1278526233
167 1279052543
168 1278564399
169 1279053464
170 1278564260
172 1278562605
173 1278566968
175 1278981159
176 1279053141
177 1279054345
178 1278565966
179 1279054325
180 1278562650
185 1279053751
186 1278522023
190 1278523512
191 1278522082
192 1278562351
199 1278563350
209 1278522051
291 1279053151
292 1210442867
298 1208731158
300 1283139639
303 1279052898
304 1278562794
305 1278534457
306 1210437655
307 1281905201
308 1210421271
309 1281827187
276 1281789714
`;

const data = rawData.trim().split("\n")
.map(line => line.trim().split(/\s+/))
.filter(item => item.length === 2) // أي كود ملوش رقم يتلغي
.map(item => ({
    code: item[0],
    number: item[1].startsWith("0") ? item[1] : "0" + item[1]
}));

const input = document.getElementById("searchInput");
const resultBox = document.getElementById("resultBox");


function doSearch(){
    let value = input.value.trim();

    if(value.length > 1 && !value.startsWith("0") && value.length > 5){
        value = "0" + value;
    }

    let found = data.find(d => d.code === value || d.number === value);

    if(found){
        resultBox.className = "result success";
        resultBox.innerHTML = `الكود ${found.code} ⇄ الرقم ${found.number}`;
    }else{
        resultBox.className = "result error";
        resultBox.innerHTML = "لا يوجد نتيجة";
    }
}

input.addEventListener("keydown", function(e){
    if(e.key === "Enter"){
        doSearch();
    }
});


function toggleTable(){
    const box = document.getElementById("tableBox");
    const body = document.getElementById("tableBody");

    if(box.style.display === "none"){
        body.innerHTML = "";
        data.forEach(item=>{
            body.innerHTML += `<tr><td>${item.code}</td><td>${item.number}</td></tr>`;
        });
        box.style.display = "block";
    }else{
        box.style.display = "none";
    }
}

window.addEventListener("message", (event) => {
    if(event.data.dark !== undefined){
        document.body.classList.toggle("dark", event.data.dark);
    }
    if(event.data.theme){
        document.body.classList.toggle("dark", event.data.theme === "dark");
    }
});

if(window.parent){
    window.parent.postMessage({requestTheme:true}, '*');
}
